var util=window.util||{};util.format=function(e,n){e=String(e);var t=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return t.length?(t=1==t.length&&null!==n&&/\[object Array\]|\[object Object\]/.test(i.call(n))?n:t,e.replace(/#\{(.+?)\}/g,function(e,n){var o=t[n];return"[object Function]"==i.call(o)&&(o=o(n)),"undefined"==typeof o?"":o})):e},util.weixin=function(){function e(){WeixinJSBridge.invoke("getNetworkType",{},function(e){o=e.err_msg}),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{img_url:i.icon,link:i.link,desc:i.content,title:i.title},n)}),WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:i.icon,img_width:640,img_height:900,link:i.link,desc:i.content,title:i.title},n)})}function n(){}var t=function(){};if("undefined"==typeof WeixinJSBridge)return{init:t};var i,o,r={};return r.getNetworkType=function(){return o},r.init=function(n){n=n||{};var t=document.querySelector('head>meta[name="description"]');i={icon:n.icon,title:n.title||document.title,link:n.link||window.location.href,content:n.content||(t?t.content:document.title)},"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e),document.attachEvent("onWeixinJSBridgeReady",e)):e()},r}(),"function"==typeof define&&define.amd&&define("util",[],function(){return util});